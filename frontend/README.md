# Text Diagrams Frontend

This project is the frontend for a web application that allows users to turn text into diagrams. It is designed to interact with a backend service that generates these diagrams.

The core features of this frontend will be:

- Listing all diagrams generated by a user.
- Viewing a specific diagram and its version history.
- A split-pane view for a selected diagram, with a "Display" tab to show the image and a "Work" tab that provides a chat interface for interacting with the diagram generation AI.

## Tech Stack

- **Framework:** [Astro](https://astro.build/)
- **UI Components:** [Vue.js](https://vuejs.org/)
- **Styling:** [Tailwind CSS](https://tailwindcss.com/)

## Project Setup

This project was initialized as a new Astro application. The following setup steps were performed:

1. **Astro Initialization**: Started a new Astro project.
1. **Vue Integration**: Added the official `@astrojs/vue` integration.
1. **Tailwind CSS Integration**: Added the official `@astrojs/tailwind` integration.
1. **Initial Scaffolding**:
   - Created a main `Layout.astro` with a dark theme and Tailwind CSS base styles.
   - Built an index page (`/`) to display a list of diagrams using mock data.
   - Created a dynamic route (`/diagrams/[id]`) to display a detailed view of a single diagram.
   - Developed placeholder Vue components for the diagram view, including `DiagramView.vue`, `WorkTab.vue`, and `DisplayTab.vue`.
1. **Troubleshooting**:
   - Resolved an `astro.config.mjs` misconfiguration where the Tailwind integration was not correctly registered.
   - Fixed a peer dependency conflict between `@astrojs/tailwind` and `tailwindcss` by downgrading `tailwindcss` to v3.
   - Corrected an issue in `src/styles/global.css` which was incorrectly importing Tailwind's library file instead of using the proper `@tailwind` directives.
   - Generated a missing `tailwind.config.mjs` file to ensure Tailwind could correctly scan project files for class usage.

## Project Structure

- `astro.config.mjs`: The main configuration file for Astro and its integrations.
- `tailwind.config.mjs`: The configuration file for Tailwind CSS.
- `src/`: Contains the core source code for the application.
  - `components/`: Vue components used across the site.
    - `DiagramView.vue`: The main component for the diagram detail page, managing the tabs.
    - `DisplayTab.vue`: A component to display the generated diagram image.
    - `WorkTab.vue`: A component for the chat-based interaction history.
  - `layouts/`: Astro layouts for page structure.
    - `Layout.astro`: The main site-wide layout.
  - `pages/`: Astro pages which represent the routes of the site.
    - `index.astro`: The homepage, listing all diagrams.
    - `diagrams/[id].astro`: The dynamic page for a single diagram.
  - `styles/`: Global styles.
    - `global.css`: The entry point for Tailwind CSS styles.

## How to Run

1. **Install Dependencies**:

   ```bash
   npm install
   ```

1. **Run the Development Server**:

   ```bash
   npm run dev
   ```

   The application will be available at `http://localhost:4321`.

## Next Steps

The immediate next step is to connect the frontend to the backend API. This will involve:

- Fetching the list of diagrams from a backend endpoint to display on the index page.
- Fetching the details and image URL for a specific diagram on the detail page.
- Implementing the chat functionality in the "Work" tab to send requests to the backend.
